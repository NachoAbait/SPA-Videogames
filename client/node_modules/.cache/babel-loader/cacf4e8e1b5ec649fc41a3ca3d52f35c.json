{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nacho\\\\OneDrive\\\\Escritorio\\\\DEPLOY\\\\SPA-Videogames\\\\client\\\\src\\\\COMPONENTES\\\\Detalles\\\\Detalles.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { getDetalle } from \"../../REDUX/ACTIONS/getDetalle\";\nimport Barra from \"../Barra/Barra\";\nimport css from \"./Detalles.module.css\";\nimport { limpiarDetalle } from \"../../REDUX/ACTIONS/limpiarDetalle\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Detalles() {\n  _s();\n  var _detalle$description, _detalle$parent_platf, _detalle$genres;\n  const dispatch = useDispatch();\n  const {\n    id\n  } = useParams();\n  const detalle = useSelector(state => state.detalle);\n  const datosRef = useRef(null);\n  const extraRef = useRef(null);\n  useEffect(() => {\n    dispatch(limpiarDetalle()); // Limpiar el estado detalle antes de hacer la nueva solicitud\n    dispatch(getDetalle(id)); // Obtener los detalles del nuevo juego\n  }, [dispatch, id]);\n  useEffect(() => {\n    const altura = window.innerHeight / 1.3;\n    function handleScroll() {\n      const distancia = datosRef.current.getBoundingClientRect().top;\n      if (distancia <= altura) {\n        datosRef.current.classList.add(css.aparece);\n      } else {\n        datosRef.current.classList.remove(css.aparece);\n      }\n    }\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n  useEffect(() => {\n    const altura = window.innerHeight / 1.3;\n    function handleScroll() {\n      const distancia = extraRef.current.getBoundingClientRect().top;\n      if (distancia <= altura) {\n        extraRef.current.classList.add(css.aparece);\n      } else {\n        extraRef.current.classList.remove(css.aparece);\n      }\n    }\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  // Mostrar un indicador de carga mientras se espera la respuesta\n  if (!detalle) {\n    return /*#__PURE__*/_jsxDEV(\"iframe\", {\n      title: \"a\",\n      src: \"https://embed.lottiefiles.com/animation/143548\",\n      className: css.cargando\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Mostrar los detalles del juego una vez que se obtenga la respuesta\n  const backgroundImageStyle = {\n    backgroundImage: `url(${detalle.background_image})`,\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: css.container,\n    children: [/*#__PURE__*/_jsxDEV(Barra, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css.principal,\n      style: backgroundImageStyle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css.datos,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.resumen,\n        ref: datosRef,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Resumen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: (_detalle$description = detalle.description) === null || _detalle$description === void 0 ? void 0 : _detalle$description.replace(/<[^>]+>/g, \"\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.extras,\n        ref: extraRef,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Lanzamiento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: detalle.released\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Plataformas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: (_detalle$parent_platf = detalle.parent_platforms) === null || _detalle$parent_platf === void 0 ? void 0 : _detalle$parent_platf.map(e => {\n            return e.platform.name + \" | \";\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Generos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: (_detalle$genres = detalle.genres) === null || _detalle$genres === void 0 ? void 0 : _detalle$genres.map(e => {\n            return e.name + \"  |  \";\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Website\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            target: \"blank\",\n            href: detalle.website,\n            children: detalle.website\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 7\n  }, this);\n}\n_s(Detalles, \"0PWSwrySRGGk/i9hj3JMI4u2TGM=\", false, function () {\n  return [useDispatch, useParams, useSelector];\n});\n_c = Detalles;\nvar _c;\n$RefreshReg$(_c, \"Detalles\");","map":{"version":3,"names":["React","useEffect","useRef","useDispatch","useSelector","useParams","getDetalle","Barra","css","limpiarDetalle","jsxDEV","_jsxDEV","Detalles","_s","_detalle$description","_detalle$parent_platf","_detalle$genres","dispatch","id","detalle","state","datosRef","extraRef","altura","window","innerHeight","handleScroll","distancia","current","getBoundingClientRect","top","classList","add","aparece","remove","addEventListener","removeEventListener","title","src","className","cargando","fileName","_jsxFileName","lineNumber","columnNumber","backgroundImageStyle","backgroundImage","background_image","backgroundSize","backgroundRepeat","backgroundPosition","container","children","principal","style","datos","resumen","ref","description","replace","extras","released","parent_platforms","map","e","platform","name","genres","target","href","website","_c","$RefreshReg$"],"sources":["C:/Users/nacho/OneDrive/Escritorio/DEPLOY/SPA-Videogames/client/src/COMPONENTES/Detalles/Detalles.jsx"],"sourcesContent":["import React, { useEffect , useRef} from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getDetalle } from \"../../REDUX/ACTIONS/getDetalle\";\r\nimport Barra from \"../Barra/Barra\"\r\nimport css from \"./Detalles.module.css\"\r\nimport { limpiarDetalle } from \"../../REDUX/ACTIONS/limpiarDetalle\";\r\n\r\nexport default function Detalles() {\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams();\r\n\r\n  const detalle = useSelector((state) => state.detalle);\r\n\r\n  const datosRef = useRef(null);\r\n  const extraRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    dispatch(limpiarDetalle()); // Limpiar el estado detalle antes de hacer la nueva solicitud\r\n    dispatch(getDetalle(id)); // Obtener los detalles del nuevo juego\r\n  }, [dispatch, id]);\r\n\r\n  useEffect(() => {\r\n    const altura = window.innerHeight / 1.3;\r\n\r\n    function handleScroll() {\r\n      const distancia = datosRef.current.getBoundingClientRect().top;\r\n\r\n      if (distancia <= altura) {\r\n        datosRef.current.classList.add(css.aparece);\r\n      } else {\r\n        datosRef.current.classList.remove(css.aparece);\r\n      }\r\n    }\r\n\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const altura = window.innerHeight / 1.3;\r\n\r\n    function handleScroll() {\r\n      const distancia = extraRef.current.getBoundingClientRect().top;\r\n\r\n      if (distancia <= altura) {\r\n        extraRef.current.classList.add(css.aparece);\r\n      } else {\r\n        extraRef.current.classList.remove(css.aparece);\r\n      }\r\n    }\r\n\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  // Mostrar un indicador de carga mientras se espera la respuesta\r\n  if (!detalle) {\r\n    return <iframe title=\"a\" src=\"https://embed.lottiefiles.com/animation/143548\" className={css.cargando}></iframe>;\r\n  }\r\n\r\n  // Mostrar los detalles del juego una vez que se obtenga la respuesta\r\n  const backgroundImageStyle = {\r\n    backgroundImage: `url(${detalle.background_image})`,\r\n    backgroundSize: \"cover\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundPosition: \"center\",\r\n  };\r\n\r\n    return (\r\n      <div className={css.container}>\r\n        <Barra></Barra>\r\n        <div className={css.principal} style={backgroundImageStyle}>\r\n                \r\n        </div>\r\n            <div className={css.datos} > \r\n                \r\n                <div className={css.resumen} ref={datosRef}>\r\n                    <h1>Resumen</h1>\r\n                    <p>{detalle.description?.replace(/<[^>]+>/g, \"\")}</p>\r\n                </div>\r\n                <div className={css.extras} ref={extraRef} >\r\n                    <h1>Lanzamiento</h1>\r\n                    <p>{detalle.released}</p>\r\n                    <h1>Plataformas</h1>\r\n                    <p>{detalle.parent_platforms?.map((e) => {return e.platform.name + \" | \" })}</p>\r\n                    <h1>Generos</h1>\r\n                    <p>{detalle.genres?.map((e) => { return e.name + \"  |  \" })}</p>\r\n                    <h1>Website</h1>\r\n                    <p><a target=\"blank\" href={detalle.website}>{detalle.website}</a></p>\r\n                </div>\r\n             \r\n            </div>\r\n      </div>\r\n    );\r\n  }\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}